<div class="container">
    <div class="card">
        <div class="card-content">
            <md-toolbar ng-show="template.loading" layout-padding>
                <p>
                    <i class="fa fa-spin fa-spinner"></i> Loading template...
                </p>
            </md-toolbar>
            <div ng-hide="template.loading">
                <div style="float: right">
                    <md-button class="md-raised md-warn">Delete</md-button>
                    <md-button class="md-raised md-primary" ng-click="template.editing = true" ng-hide="template.editing">Edit</md-button>
                    <md-button class="md-raised md-primary" ng-show="template.editing && !template.wasModified" ng-click="template.editing = false">Stop Editing</md-button>
                    <md-button class="md-raised md-primary" ng-show="template.wasModified" ng-disabled="template.saving"
                               ng-click="template.discardChanges()"><i class="fa"
                                                                       ng-class="{'fa-remove': !template.saving, 'fa-spinner fa-spin': template.saving}"></i>
                        Discard Changes
                    </md-button>
                    <md-button  class="md-raised md-primary" ng-show="template.wasModified" ng-disabled="template.saving"
                               ng-click="template.saveChanges()">
                        <i class="fa" ng-class="{'fa-save': !template.saving, 'fa-spinner fa-spin': template.saving}"></i>
                        Save Changes
                    </md-button>
                </div>
                <md-button ui-sref="templates">
                    <ng-md-icon icon="chevron_left"></ng-md-icon>
                    Back to templates
                </md-button>
                <h1>Template {{ template.template.name }}</h1>

                <md-button class="md-raised md-primary" ng-click="template.mode = 'builds'" ng-disabled="template.mode === 'builds'">Builds</md-button>
                <md-button class="md-raised md-primary" ng-click="template.mode = 'features'" ng-disabled="template.mode === 'features'">Features</md-button>
            </div>
        </div>
    </div>

    <div ng-include="'/templates/views/template.builds.html'" ng-if="template.mode === 'builds'"></div>
    <div ng-include="'/templates/views/template.features.html'" ng-if="template.mode === 'features'"></div>
</div>
